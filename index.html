<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Alias de E-mail</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Base Styles */
        body {
            font-family: 'Poppins', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background-image: linear-gradient(135deg, #f0f4f8 0%, #d9e2ec 100%);
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            color: #333;
        }

        /* Container */
        .container {
            background-color: #ffffff;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            text-align: center;
            width: 100%;
            max-width: 650px; /* Max-width for overall container */
            border: 1px solid #e0e6ed;
            transition: max-width 0.4s ease-in-out; /* Smooth transition for container size */
        }
        /* Adjusted max-width for advanced mode */
        body.advanced-mode .container {
            max-width: 700px; 
        }

        /* Headings & Paragraphs */
        h1 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-weight: 700;
        }
        p {
            color: #555;
            margin-bottom: 25px;
            line-height: 1.6;
        }
        h3 {
            color: #3d5a80;
            font-size: 1.3em;
            margin-top: 0;
            margin-bottom: 15px;
        }

        /* Labels & Inputs */
        label {
            display: block;
            margin-bottom: 8px;
            color: #4a5568;
            font-weight: 600;
            text-align: left;
            font-size: 0.95em;
        }
        input[type="email"],
        input[type="text"],
        input[type="number"],
        select {
            width: calc(100% - 24px); /* Account for padding */
            padding: 12px;
            margin-bottom: 20px;
            border: 1px solid #ccd6e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
            box-sizing: border-box;
        }
        input[type="email"]:focus,
        input[type="text"]:focus,
        input[type="number"]:focus,
        select:focus {
            border-color: #4299e1;
            box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.2);
            outline: none;
        }

        /* Button Sections */
        .button-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px dashed #c0d3e7;
            border-radius: 10px;
            background-color: #f7fafd;
            text-align: left; /* Align labels/inputs left */
        }
        .button-section p {
            font-size: 0.9em;
            color: #777;
            margin-top: 5px;
            margin-bottom: 15px;
            text-align: center; /* Center notes */
        }

        /* Button Group */
        .button-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 15px; /* Space above buttons in group */
        }

        /* Buttons */
        button {
            color: white;
            padding: 12px 22px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            min-width: 180px; /* Ensure consistent button width */
        }
        button:hover {
            transform: translateY(-2px);
        }
        button:active {
            transform: translateY(0);
        }

        /* Specific Button Colors */
        .btn-random {
            background-color: #4CAF50; /* Green */
        }
        .btn-random:hover {
            background-color: #45a049;
        }
        .btn-custom {
            background-color: #673ab7; /* Purple */
        }
        .btn-custom:hover {
            background-color: #5e35b1;
        }
        .btn-mode-toggle { /* Style for Advanced/Simple Mode button */
            background-color: #17a2b8; /* Info blue */
            min-width: unset; /* Don't force min-width */
            margin-top: 25px;
            margin-bottom: 20px;
        }
        .btn-mode-toggle:hover {
            background-color: #138496;
        }
        .btn-utility {
            background-color: #007bff; /* Blue */
            margin-top: 25px; /* Space from other sections */
            min-width: unset; /* Override min-width for utility buttons */
        }
        .btn-utility:hover {
            background-color: #0056b3;
        }
        .btn-clear {
            background-color: #f44336; /* Red for clear */
        }
        .btn-clear:hover {
            background-color: #da190b;
        }

        /* Result Display */
        .result {
            margin-top: 30px;
            padding: 20px;
            background-color: #e6f0f7;
            border-radius: 10px;
            word-break: break-all;
            font-size: 20px;
            color: #2c3e50;
            font-weight: bold;
            border: 1px dashed #a4c8e0;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        /* Messages */
        .message {
            margin-top: 20px;
            font-size: 15px;
            color: #d9534f;
            font-weight: 500;
        }
        .message.success {
            color: #5cb85c;
        }

        /* Checkbox/Toggle Styles */
        .toggle-switch {
            display: flex;
            align-items: center;
            justify-content: flex-start; /* Align checkbox to left */
            margin-bottom: 15px;
            gap: 10px;
            font-size: 1em;
            color: #4a5568;
            font-weight: 500;
        }
        .toggle-switch input[type="checkbox"] {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            position: relative;
            display: inline-block;
            width: 40px;
            height: 20px;
            background-color: #ccc;
            border-radius: 20px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin-bottom: 0; /* Override default input margin */
            vertical-align: middle; /* Align with text */
        }
        .toggle-switch input[type="checkbox"]:checked {
            background-color: #4CAF50;
        }
        .toggle-switch input[type="checkbox"]::before {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 16px;
            height: 16px;
            background-color: white;
            border-radius: 50%;
            transition: transform 0.3s ease;
        }
        .toggle-switch input[type="checkbox"]:checked::before {
            transform: translateX(20px);
        }

        /* Hide/Show Modes */
        #advancedOptions {
            display: none; /* Hidden by default */
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
        body.advanced-mode #advancedOptions {
            display: block; /* Show when advanced-mode class is active */
            opacity: 1;
        }
        #normalOptions {
            display: block; /* Shown by default */
            opacity: 1;
            transition: opacity 0.5s ease-in-out;
        }
        body.advanced-mode #normalOptions {
            display: none; /* Hide when advanced-mode class is active */
            opacity: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>游댐 Gerador de Alias de E-mail</h1>
        <p>Crie **aliases ilimitados** para sua conta Gmail/Googlemail. Gerencie seus e-mails e proteja sua privacidade com flexibilidade!</p>

        <label for="baseEmail">Seu E-mail Principal (ex: seu.nome@gmail.com):</label>
        <input type="email" id="baseEmail" placeholder="seu.nome@gmail.com" required>

        <div id="normalOptions">
            <div class="button-section">
                <h3>Alias Aleat칩rio Simples</h3>
                <p>Gera um alias 칰nico com uma string aleat칩ria de 8 caracteres.</p>
                <div class="button-group">
                    <button class="btn-random" onclick="generateAlias('gmail.com', 'random', 8, false)">Gerar @gmail.com</button>
                    <button class="btn-random" onclick="generateAlias('googlemail.com', 'random', 8, false)">Gerar @googlemail.com</button>
                </div>
            </div>
        </div>

        <button id="modeToggleButton" class="btn-mode-toggle" onclick="toggleMode()">Ir para Modo Avan칞ado</button>

        <div id="advancedOptions">
            <div class="button-section">
                <h3>Alias Aleat칩rio Avan칞ado</h3>
                <p>Gere um alias 칰nico, controlando o comprimento e a inclus칚o de pontos.</p>
                
                <label for="randomLength">Comprimento da string aleat칩ria (depois do "+"):</label>
                <input type="number" id="randomLength" value="8" min="4" max="15">

                <div class="toggle-switch">
                    <input type="checkbox" id="includeDots" checked>
                    <label for="includeDots">Incluir pontos aleat칩rios no nome de usu치rio</label>
                </div>

                <div class="button-group">
                    <button class="btn-random" onclick="generateAlias('gmail.com', 'random', getEl('randomLength').value, getEl('includeDots').checked)">Gerar Aleat칩rio (@gmail.com)</button>
                    <button class="btn-random" onclick="generateAlias('googlemail.com', 'random', getEl('randomLength').value, getEl('includeDots').checked)">Gerar Aleat칩rio (@googlemail.com)</button>
                </div>
            </div>

            <div class="button-section">
                <h3>Alias Personalizado (+)</h3>
                <p>Crie um alias usando sua pr칩pria string customizada.</p>
                <label for="customAliasString">Sua string personalizada (apenas letras, n칰meros e h칤fens):</label>
                <input type="text" id="customAliasString" placeholder="nome-do-servico-ou-site">
                <div class="button-group">
                    <button class="btn-custom" onclick="generateAlias('gmail.com', 'custom', null, null, getEl('customAliasString').value)">Gerar Personalizado (@gmail.com)</button>
                    <button class="btn-custom" onclick="generateAlias('googlemail.com', 'custom', null, null, getEl('customAliasString').value)">Gerar Personalizado (@googlemail.com)</button>
                </div>
            </div>
        </div>
        
        <button id="copyButton" class="btn-utility" onclick="copyAlias()">Copiar Alias Gerado</button>
        <button id="clearButton" class="btn-utility btn-clear" onclick="clearForm()">Limpar Tudo</button>

        <div class="result" id="aliasResult">
            Seu alias gerado aparecer치 aqui.
        </div>
        <div class="message" id="statusMessage"></div>
    </div>

    <script>
        // Helper function to get elements
        const getEl = (id) => document.getElementById(id);

        // State variable for mode
        let isAdvancedMode = false;

        function generateAlias(domainType, aliasType, randomLength = 8, includeDots = false, customString = '') {
            const baseEmailInput = getEl('baseEmail');
            const aliasResultDiv = getEl('aliasResult');
            const statusMessageDiv = getEl('statusMessage');
            const copyButton = getEl('copyButton');

            const baseEmail = baseEmailInput.value.trim();
            
            // --- Reset UI Feedback ---
            statusMessageDiv.textContent = '';
            statusMessageDiv.className = 'message';
            aliasResultDiv.textContent = 'Seu alias gerado aparecer치 aqui.';
            copyButton.style.display = 'none';

            // --- Basic Validations ---
            if (!baseEmail) {
                statusMessageDiv.textContent = "Por favor, insira seu endere칞o de e-mail principal.";
                statusMessageDiv.style.color = '#d9534f';
                return;
            }

            const emailRegex = /^[^\s@]+@(gmail\.com|googlemail\.com)$/i;
            if (!emailRegex.test(baseEmail)) {
                statusMessageDiv.textContent = "O e-mail principal deve ser um endere칞o v치lido (@gmail.com ou @googlemail.com).";
                statusMessageDiv.style.color = '#d9534f';
                return;
            }

            if (aliasType === 'custom') {
                // If custom string is not passed as arg, get it from the input
                if (!customString) { 
                    customString = getEl('customAliasString').value.trim();
                }
                if (!customString) {
                    statusMessageDiv.textContent = "Para um alias personalizado, a string n칚o pode estar vazia.";
                    statusMessageDiv.style.color = '#d9534f';
                    return;
                }
                // Stronger validation for custom string: alphanumeric and hyphens only
                if (!/^[a-zA-Z0-9-]+$/.test(customString)) {
                    statusMessageDiv.textContent = "A string personalizada deve conter apenas letras, n칰meros e h칤fens (-).";
                    statusMessageDiv.style.color = '#d9534f';
                    return;
                }
            }
            
            // --- Alias Generation Logic ---
            let usernamePart = baseEmail.split('@')[0];
            const domainPart = domainType; 

            let finalUsername; // This will be the username potentially with dots
            let plusString;    // This will be the string after the '+'

            if (aliasType === 'random') {
                // 1. Generate the random string for after the '+'
                const characters = 'abcdefghijklmnopqrstuvwxyz0123456789';
                let generatedRandomString = '';
                const effectiveRandomLength = parseInt(randomLength, 10); // Ensure it's an integer
                for (let i = 0; i < effectiveRandomLength; i++) {
                    generatedRandomString += characters.charAt(Math.floor(Math.random() * characters.length));
                }
                plusString = generatedRandomString;

                // 2. Handle dots in username if 'includeDots' is true
                if (includeDots) {
                    const baseForDots = usernamePart.replace(/\./g, ''); // Start with a clean username
                    let tempUsername = '';
                    for (let i = 0; i < baseForDots.length; i++) {
                        tempUsername += baseForDots[i];
                        // Add a dot randomly (30% chance), but not at the very end
                        if (i < baseForDots.length - 1 && Math.random() < 0.3) { 
                            tempUsername += '.';
                        }
                    }
                    // Ensure at least one dot if checkbox is on and username is long enough
                    if (baseForDots.length > 1 && !tempUsername.includes('.') && Math.random() < 0.7) { 
                         const randomIndex = Math.floor(Math.random() * (baseForDots.length - 1)) + 1;
                         tempUsername = baseForDots.slice(0, randomIndex) + '.' + baseForDots.slice(randomIndex);
                    }
                    finalUsername = tempUsername;
                } else {
                    // If dots are not included, just remove any existing dots from the base username
                    finalUsername = usernamePart.replace(/\./g, '');
                }
            } else { // aliasType === 'custom'
                finalUsername = usernamePart.replace(/\./g, ''); // Clean dots for custom type
                plusString = customString;
            }

            const generatedAlias = `${finalUsername}+${plusString}@${domainPart}`;

            // --- Update UI ---
            aliasResultDiv.textContent = generatedAlias;
            copyButton.style.display = 'inline-block';
            statusMessageDiv.textContent = "Alias gerado com sucesso! 游꿀";
            statusMessageDiv.className = 'message success';
        }

        // --- Copy Function ---
        function copyAlias() {
            const aliasResultDiv = getEl('aliasResult');
            const statusMessageDiv = getEl('statusMessage');
            const aliasText = aliasResultDiv.textContent;

            if (aliasText === 'Seu alias gerado aparecer치 aqui.' || !aliasText.includes('@')) {
                statusMessageDiv.textContent = "Nenhum alias para copiar. Gere um primeiro!";
                statusMessageDiv.className = 'message';
                statusMessageDiv.style.color = '#d9534f';
                return;
            }

            navigator.clipboard.writeText(aliasText).then(() => {
                statusMessageDiv.textContent = "Alias copiado para a 치rea de transfer칡ncia! 九덢잺";
                statusMessageDiv.className = 'message success';
            }).catch(err => {
                console.error('Erro ao copiar: ', err);
                statusMessageDiv.textContent = "Erro ao copiar o alias. Por favor, copie manualmente.";
                statusMessageDiv.style.color = '#d9534f';
            });
        }

        // --- Toggle Mode Function ---
        function toggleMode() {
            const body = document.body;
            const modeToggleButton = getEl('modeToggleButton');

            isAdvancedMode = !isAdvancedMode; // Toggle the state

            if (isAdvancedMode) {
                body.classList.add('advanced-mode');
                modeToggleButton.textContent = 'Voltar para Modo Simples';
            } else {
                body.classList.remove('advanced-mode');
                modeToggleButton.textContent = 'Ir para Modo Avan칞ado';
            }
            clearForm(); // Clear fields when changing mode for a clean start
        }

        // --- Clear Form Function ---
        function clearForm() {
            getEl('baseEmail').value = '';
            getEl('customAliasString').value = '';
            getEl('aliasResult').textContent = 'Seu alias gerado aparecer치 aqui.';
            getEl('statusMessage').textContent = '';
            getEl('statusMessage').className = 'message';
            getEl('copyButton').style.display = 'none';
            // Reset advanced options defaults if they exist
            if (getEl('randomLength')) getEl('randomLength').value = 8; 
            if (getEl('includeDots')) getEl('includeDots').checked = true;
        }

        // Initial setup for the simple mode (hide advanced options by default)
        document.addEventListener('DOMContentLoaded', () => {
            getEl('advancedOptions').style.display = 'none'; // Ensure hidden on load
            getEl('advancedOptions').style.opacity = '0'; // Ensure opacity is 0 on load
        });
    </script>
</body>
</html>
